@layer components {
  button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    padding: 0.45rem 0.9rem;
    border-radius: var(--radius-sm);
    border: 1px solid transparent;
    background: var(--accent);
    color: white;
    font-weight: 600;
    letter-spacing: 0.02em;
    cursor: pointer;
    transition: background var(--transition-base), box-shadow var(--transition-base), transform var(--transition-fast);
  }

  button:hover {
    background: color-mix(in srgb, var(--accent) 85%, white 15%);
    box-shadow: var(--shadow-sm);
    transform: translateY(-1px);
  }

  button:disabled {
    cursor: not-allowed;
    opacity: 0.55;
    box-shadow: none;
    transform: none;
  }

  button.chip,
  .chip button,
  button.chip:disabled {
    background: var(--surface-2);
    border: 1px solid var(--border);
    color: var(--text-subtle);
    font-weight: 500;
  }

  button.chip:hover {
    background: var(--surface-3);
    color: var(--text);
    box-shadow: none;
    transform: translateY(-1px);
  }

  input,
  select,
  textarea {
    width: 100%;
    padding: 0.55rem 0.75rem;
    border-radius: var(--radius-sm);
    border: 1px solid var(--border);
    background: var(--surface-2);
    color: var(--text);
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
  }

  input::placeholder,
  textarea::placeholder {
    color: var(--text-subtle);
  }

  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 25%, transparent);
  }

  label {
    display: inline-flex;
    gap: var(--space-2);
  }

  .site-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-4);
    padding: var(--space-4);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    background: linear-gradient(135deg, rgba(64, 158, 255, 0.08), transparent 60%), var(--surface);
    box-shadow: var(--shadow-md);
  }

  @media (max-width: 640px) {
    .site-header {
      flex-direction: column;
      align-items: flex-start;
    }

    .site-status {
      align-items: flex-start;
    }
  }

  .site-header__copy {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .site-title {
    font-size: clamp(1.75rem, 2.2vw + 1rem, 2.75rem);
    letter-spacing: 0.01em;
  }

  .site-subtitle {
    margin: 0;
    color: var(--text-subtle);
    font-size: var(--fs-md);
  }

  .site-status {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: var(--space-2);
  }

  .site-status__label {
    font-size: var(--fs-xs);
    text-transform: uppercase;
    letter-spacing: 0.16em;
    color: var(--text-subtle);
  }

  .status-pill {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.3rem 0.9rem;
    border-radius: 999px;
    font-size: var(--fs-sm);
    font-weight: 600;
    border: 1px solid transparent;
    background: rgba(64, 158, 255, 0.12);
    color: var(--accent);
    transition: background var(--transition-fast), border-color var(--transition-fast), color var(--transition-fast);
  }

  .status-pill[data-status='ok'] {
    background: rgba(97, 212, 125, 0.16);
    border-color: rgba(97, 212, 125, 0.5);
    color: var(--ok);
  }

  .status-pill[data-status='loading'] {
    background: rgba(64, 158, 255, 0.16);
    border-color: rgba(64, 158, 255, 0.45);
    color: var(--accent);
  }

  .status-pill[data-status='error'] {
    background: rgba(255, 112, 112, 0.16);
    border-color: rgba(255, 112, 112, 0.45);
    color: var(--danger);
  }

  .site-nav {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    padding: var(--space-3);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
  }

  .site-nav__link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-1);
    padding: 0.35rem 0.9rem;
    border-radius: 999px;
    font-size: var(--fs-md);
    font-weight: 600;
    color: var(--text-subtle);
    border: 1px solid transparent;
    transition: color var(--transition-fast), background var(--transition-fast), border-color var(--transition-fast),
      transform var(--transition-fast);
  }

  .site-nav__link:hover,
  .site-nav__link:focus-visible {
    color: var(--accent);
    background: rgba(64, 158, 255, 0.18);
    border-color: rgba(64, 158, 255, 0.35);
    text-decoration: none;
    transform: translateY(-1px);
  }

  .site-nav__link--current {
    background: var(--accent);
    color: #fff;
    border-color: transparent;
    box-shadow: var(--shadow-sm);
  }

  .page__status {
    color: var(--text-subtle);
    font-size: var(--fs-md);
  }

  .page__intro {
    font-size: var(--fs-md);
    color: var(--text-subtle);
    max-width: 60ch;
  }

  .page__search,
  .page__results,
  .page__pager,
  .page__status + .page__search {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .home-section {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .home-section__header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: var(--space-4);
    flex-wrap: wrap;
  }

  .home-section__intro {
    color: var(--text-subtle);
    max-width: 60ch;
    font-size: var(--fs-md);
  }

  .home-hero {
    display: grid;
    gap: var(--space-4);
    padding: clamp(2.5rem, 4vw, 3.75rem);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    background:
      radial-gradient(circle at top right, rgba(64, 158, 255, 0.22), transparent 55%),
      radial-gradient(circle at bottom left, rgba(58, 209, 161, 0.18), transparent 60%),
      var(--surface);
    box-shadow: var(--shadow-lg);
  }

  .home-hero__eyebrow {
    font-size: var(--fs-sm);
    letter-spacing: 0.24em;
    text-transform: uppercase;
    color: var(--accent-alt);
  }

  .home-hero__title {
    font-size: clamp(2.5rem, 3.5vw + 1.5rem, 3.75rem);
  }

  .home-hero__intro {
    font-size: var(--fs-xl);
    color: var(--text-subtle);
    max-width: 65ch;
  }

  .home-hero__cta {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    flex-wrap: wrap;
  }

  .home-hero__cta-primary,
  .home-hero__cta-secondary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    font-weight: 600;
    border-radius: var(--radius-md);
    padding: 0.6rem 1.4rem;
    transition: transform var(--transition-fast), box-shadow var(--transition-fast),
      background var(--transition-fast), color var(--transition-fast);
    border: 1px solid transparent;
  }

  .home-hero__cta-primary {
    background: var(--accent);
    color: #fff;
    box-shadow: var(--shadow-md);
  }

  .home-hero__cta-primary:hover,
  .home-hero__cta-primary:focus-visible {
    background: color-mix(in srgb, var(--accent) 85%, white 15%);
    text-decoration: none;
    transform: translateY(-1px);
  }

  .home-hero__cta-secondary {
    background: color-mix(in srgb, var(--surface) 80%, transparent);
    color: var(--text);
    border-color: var(--border);
  }

  .home-hero__cta-secondary:hover,
  .home-hero__cta-secondary:focus-visible {
    background: var(--surface-2);
    text-decoration: none;
    transform: translateY(-1px);
  }

  .home-hero__highlights {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
    padding: 0;
    margin: 0;
    list-style: none;
  }

  .home-hero__highlights li {
    position: relative;
    padding-left: 1.35rem;
    color: var(--text-subtle);
    font-size: var(--fs-md);
  }

  .home-hero__highlights li::before {
    content: 'â€¢';
    position: absolute;
    left: 0;
    color: var(--accent-alt);
  }

  .home-hero__stats {
    display: grid;
    gap: var(--space-4);
    grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  }

  .home-hero__stat {
    border: 1px solid var(--border);
    border-radius: var(--radius-md);
    padding: var(--space-4);
    background: var(--surface-2);
    box-shadow: var(--shadow-sm);
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .home-hero__stat-value {
    font-size: clamp(1.5rem, 2vw + 1rem, 2.25rem);
    font-weight: 700;
    color: var(--accent);
  }

  .home-hero__stat-label {
    font-size: var(--fs-md);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--text-subtle);
  }

  .home-hero__stat-detail {
    margin: 0;
    color: var(--text-subtle);
    font-size: var(--fs-sm);
  }

  .home-feature-grid {
    display: grid;
    gap: var(--space-4);
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .home-feature-card {
    background: var(--surface);
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    padding: var(--space-4);
    box-shadow: var(--shadow-md);
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }

  .home-feature-card h3 {
    font-size: var(--fs-xl);
  }

  .home-feature-card p {
    color: var(--text-subtle);
    font-size: var(--fs-md);
  }

  .home-dataset-grid {
    display: grid;
    gap: var(--space-4);
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  }

  .home-dataset-card {
    background: var(--surface);
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    padding: var(--space-4);
    box-shadow: var(--shadow-sm);
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast), border-color var(--transition-fast);
  }

  .home-dataset-card:hover,
  .home-dataset-card:focus-within {
    transform: translateY(-2px);
    box-shadow: var(--shadow-md);
    border-color: color-mix(in srgb, var(--accent) 45%, var(--border));
  }

  .home-dataset-card h3 {
    font-size: calc(var(--fs-xl) * 0.95);
  }

  .home-dataset-card h3 a {
    color: inherit;
  }

  .home-dataset-card p {
    color: var(--text-subtle);
  }

  .home-dataset-card__meta {
    font-size: var(--fs-sm);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--accent-alt);
  }

  .home-status-grid {
    display: grid;
    gap: var(--space-3);
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  }

  .home-status-card {
    background: var(--surface-2);
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    padding: var(--space-4);
    box-shadow: var(--shadow-sm);
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
    min-height: 132px;
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast), transform var(--transition-fast);
  }

  .home-status-card h3 {
    font-size: var(--fs-lg);
  }

  .home-status-card__message {
    color: var(--text-subtle);
    font-size: var(--fs-md);
  }

  .home-status-card--ok {
    border-color: color-mix(in srgb, var(--ok) 65%, var(--border));
    box-shadow: var(--shadow-md);
  }

  .home-status-card--error {
    border-color: color-mix(in srgb, var(--danger) 55%, var(--border));
    box-shadow: var(--shadow-md);
  }

  .home-pulse__layout {
    display: grid;
    gap: var(--space-4);
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  }

  .home-pulse__col {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }

  .home-pulse__label {
    margin: 0;
    font-size: var(--fs-sm);
    text-transform: uppercase;
    letter-spacing: 0.24em;
    color: var(--text-subtle);
  }

  .home-diag-card {
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    padding: var(--space-4);
    background: linear-gradient(135deg, rgba(58, 209, 161, 0.12), transparent 60%), var(--surface);
    box-shadow: var(--shadow-md);
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .home-diag__stats {
    display: grid;
    gap: var(--space-3);
    grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
  }

  .home-diag__stat {
    border: 1px dashed var(--border);
    border-radius: var(--radius-md);
    padding: var(--space-3);
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
    background: var(--surface-2);
  }

  .home-diag__stat-label {
    font-size: var(--fs-sm);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    color: var(--text-subtle);
  }

  .home-diag__stat-value {
    font-size: var(--fs-lg);
    font-weight: 600;
  }

  .home-diag__timeline {
    list-style: none;
    padding: 0;
    margin: 0;
    display: grid;
    gap: var(--space-2);
  }

  .home-diag__timeline-title {
    font-size: var(--fs-xs);
    text-transform: uppercase;
    letter-spacing: 0.3em;
    color: var(--accent-alt);
  }

  .home-diag__timeline-item {
    border-left: 3px solid var(--border);
    padding-left: var(--space-3);
    color: var(--text-subtle);
  }

  .home-diag__timeline-item--ok {
    border-color: color-mix(in srgb, var(--ok) 70%, var(--border));
    color: var(--ok);
  }

  .home-diag__raw {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    font-weight: 600;
    color: var(--accent);
    text-decoration: none;
  }

  .home-diag__raw::after {
    content: '';
    display: inline-block;
    width: 0.75rem;
    height: 0.75rem;
    background: currentColor;
    clip-path: polygon(0 0, 100% 50%, 0 100%);
  }

  .home-diag__raw:hover,
  .home-diag__raw:focus-visible {
    text-decoration: underline;
  }

  .home-playbook__grid {
    display: grid;
    gap: var(--space-4);
    grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  }

  .home-playbook__card {
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    padding: var(--space-4);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }

  .home-playbook__snippet {
    margin: 0;
    min-height: 120px;
    white-space: pre-wrap;
  }

  .home-playbook__hint {
    margin: 0;
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .home-workflow__list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: var(--space-3);
    counter-reset: steps;
  }

  .home-workflow__step {
    position: relative;
    padding: var(--space-4);
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
  }

  .home-workflow__step::before {
    counter-increment: steps;
    content: counter(steps, decimal-leading-zero);
    position: absolute;
    top: var(--space-4);
    right: var(--space-4);
    font-size: var(--fs-sm);
    letter-spacing: 0.2em;
    color: var(--text-subtle);
  }

  .home-workflow__step h3 {
    margin-bottom: var(--space-2);
  }

  .page__results > .grid.cards {
    margin-top: var(--space-3);
  }

  .alert {
    padding: var(--space-3);
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    background: var(--surface-2);
    color: var(--text);
    box-shadow: var(--shadow-sm);
  }

  .alert--error {
    border-color: color-mix(in srgb, var(--danger) 45%, var(--border));
    background: color-mix(in srgb, var(--danger) 18%, var(--surface));
  }

  .alert--info {
    border-color: color-mix(in srgb, var(--accent) 45%, var(--border));
    background: color-mix(in srgb, var(--accent) 12%, var(--surface));
  }

  .alert__details {
    margin-top: var(--space-3);
    font-size: var(--fs-sm);
    color: var(--text-subtle);
    display: grid;
    gap: var(--space-2);
  }

  .card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-md);
    padding: var(--space-4);
    box-shadow: var(--shadow-md);
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
  }

  .card:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }

  .card h3,
  .card h2 {
    margin-top: 0;
    font-size: var(--fs-xl);
    color: var(--text);
  }

  .card__title a {
    color: inherit;
  }

  .card__body {
    display: grid;
    gap: var(--space-3);
  }

  .card__media {
    position: relative;
    overflow: hidden;
    border-radius: var(--radius-sm);
    background: var(--surface-2);
    border: 1px dashed var(--border);
    min-height: 180px;
  }

  .card__media img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .card__subtitle {
    font-size: var(--fs-md);
    color: var(--text-subtle);
  }

  .card__meta,
  .card__meta-block {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .card__meta-block {
    display: grid;
    gap: var(--space-2);
  }

  .result-card__image {
    opacity: 0;
    transition: opacity 180ms ease;
  }

  .result-card__image--loaded {
    opacity: 1;
  }

  .result-card__footer {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .result-card__header {
    display: flex;
    align-items: center;
    gap: var(--space-3);
  }

  .result-card__icon {
    width: 40px;
    height: 40px;
    object-fit: contain;
    filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.35));
  }

  .result-card__heading {
    display: grid;
    gap: var(--space-2);
  }

  .result-card__meta {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .result-card__abstract {
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    background: var(--surface-2);
    padding: var(--space-2) var(--space-3);
  }

  .result-card__abstract summary {
    cursor: pointer;
    font-weight: 600;
    color: var(--accent);
    margin-bottom: var(--space-2);
  }

  .result-card__summary {
    margin: 0;
    font-size: var(--fs-md);
    color: var(--text-subtle);
  }

  .result-card__actions {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .result-list__empty {
    margin: 0;
    padding: var(--space-4);
    text-align: center;
    color: var(--text-subtle);
    border: 1px dashed var(--border);
    border-radius: var(--radius-md);
    background: var(--surface-2);
  }

  .load-more {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
    padding: 0.5rem 1.4rem;
    border-radius: var(--radius-sm);
    border: 1px solid color-mix(in srgb, var(--accent) 45%, transparent);
    background: color-mix(in srgb, var(--accent) 16%, var(--surface));
    color: var(--accent);
    font-weight: 600;
  }

  .load-more:hover,
  .load-more:focus-visible {
    background: color-mix(in srgb, var(--accent) 22%, var(--surface));
    text-decoration: none;
  }

  .result-card__action {
    font-size: var(--fs-sm);
    padding: 0.35rem 0.65rem;
    border-radius: var(--radius-sm);
    background: var(--surface-2);
    border: 1px solid var(--border);
    transition: background var(--transition-fast), border-color var(--transition-fast);
  }

  .result-card__action:hover,
  .result-card__action:focus-visible {
    background: var(--surface-3);
    border-color: color-mix(in srgb, var(--accent) 40%, var(--border));
    text-decoration: none;
  }

  .img-ph {
    position: absolute;
    inset: 0;
    display: grid;
    place-items: center;
    color: var(--text-subtle);
    font-size: var(--fs-sm);
    padding: var(--space-3);
  }

  .rights-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: 0.2rem 0.6rem;
    border-radius: 999px;
    font-size: var(--fs-xs);
    font-weight: 600;
    background: var(--surface-2);
    border: 1px solid var(--border);
  }

  .chip {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.2rem 0.6rem;
    border-radius: 999px;
    background: var(--surface-2);
    border: 1px solid var(--border);
    color: var(--text-subtle);
    font-size: var(--fs-sm);
    font-weight: 500;
    line-height: 1.3;
  }

  .chip--kind {
    background: color-mix(in srgb, var(--accent) 16%, var(--surface));
    border-color: color-mix(in srgb, var(--accent) 45%, var(--border));
    color: var(--accent);
  }

  .chip--filetype {
    background: color-mix(in srgb, var(--warn) 14%, var(--surface));
    border-color: color-mix(in srgb, var(--warn) 45%, var(--border));
    color: var(--warn);
  }

  .chip--accent {
    background: color-mix(in srgb, var(--accent) 20%, var(--surface));
    border-color: color-mix(in srgb, var(--accent) 45%, var(--border));
    color: var(--accent);
  }

  .chip--muted {
    background: var(--surface-2);
    border-color: var(--border);
    color: var(--text-subtle);
  }

  .chip--author {
    background: color-mix(in srgb, var(--accent-alt) 16%, var(--surface));
    border-color: color-mix(in srgb, var(--accent-alt) 45%, var(--border));
    color: var(--accent-alt);
  }

  .chip--date {
    background: color-mix(in srgb, var(--info) 16%, var(--surface));
    border-color: color-mix(in srgb, var(--info) 45%, var(--border));
    color: var(--info);
  }

  .chip--subject {
    background: var(--surface-2);
    border-style: dashed;
  }

  .grid.cards .card {
    height: 100%;
  }

  .art-layout {
    display: grid;
    gap: var(--space-4);
    grid-template-columns: minmax(260px, 280px) 1fr;
  }

  .art-layout__facets {
    display: grid;
    gap: var(--space-3);
  }

  .art-layout__results {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .facets {
    display: grid;
    gap: var(--space-3);
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
    position: sticky;
    top: var(--space-4);
    max-height: calc(100vh - 2 * var(--space-4));
    overflow: auto;
  }

  .facet {
    display: grid;
    gap: var(--space-2);
  }

  .facet + .facet {
    padding-top: var(--space-3);
    border-top: 1px solid var(--border);
  }

  .facet__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-2);
  }

  .facet__header h3 {
    font-size: var(--fs-lg);
  }

  .facet__list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: var(--space-2);
  }

  .facet-option {
    display: grid;
    grid-template-columns: auto 1fr auto;
    align-items: center;
    gap: var(--space-2);
    padding: 0.35rem 0.5rem;
    border-radius: var(--radius-sm);
    background: transparent;
    border: 1px solid transparent;
    cursor: pointer;
    transition: background var(--transition-fast), border-color var(--transition-fast);
  }

  .facet-option input {
    width: auto;
  }

  .facet-option:hover,
  .facet-option:has(input:focus-visible) {
    background: var(--surface-2);
    border-color: var(--border);
  }

  .facet-option__label {
    font-size: var(--fs-md);
  }

  .facet-option__count {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .facet__clear,
  .facet__more {
    align-self: start;
    font-size: var(--fs-sm);
    padding: 0.35rem 0.75rem;
    background: transparent;
    color: var(--accent);
    border-color: color-mix(in srgb, var(--accent) 45%, transparent);
  }

  .facet__clear[disabled] {
    opacity: 0.4;
    pointer-events: none;
  }

  .art-toolbar {
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
    display: grid;
    gap: var(--space-3);
  }

  .art-toolbar__host {
    display: grid;
    gap: var(--space-3);
  }

  .facet-bar {
    display: grid;
    gap: var(--space-3);
    padding: var(--space-3);
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
  }

  .facet-bar__field {
    display: grid;
    gap: var(--space-2);
  }

  .facet-bar__label {
    font-size: var(--fs-sm);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--text-subtle);
  }

  .facet-bar__slider {
    display: flex;
    align-items: center;
    gap: var(--space-3);
  }

  .facet-bar__slider input[type='range'] {
    flex: 1;
  }

  .facet-bar__value {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .facet-bar__clear {
    justify-self: start;
    background: transparent;
    border: 1px solid color-mix(in srgb, var(--accent) 35%, var(--border));
    color: var(--accent);
  }

  .art-pagination__host {
    display: flex;
    justify-content: center;
  }

  .art-pagination {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-2) var(--space-3);
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
  }

  .art-pagination button {
    padding: 0.35rem 0.8rem;
    background: transparent;
    border: 1px solid color-mix(in srgb, var(--accent) 35%, var(--border));
    color: var(--accent);
    border-radius: var(--radius-sm);
  }

  .art-pagination button:disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }

  .art-pagination__indicator {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .dataverse-toolbar {
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    align-items: start;
  }

  .dataverse-toolbar__fieldset {
    border: 1px solid var(--border);
    border-radius: var(--radius-md);
    padding: var(--space-3);
    display: grid;
    gap: var(--space-2);
    background: var(--surface-2);
  }

  .dataverse-toolbar__fieldset legend {
    font-size: var(--fs-sm);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--text-subtle);
    padding: 0 var(--space-1);
  }

  .dataverse-toolbar__checkbox {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--fs-md);
    color: var(--text);
  }

  .dataverse-toolbar__checkbox input {
    width: auto;
  }

  .dataverse-toolbar__range {
    display: grid;
    gap: var(--space-2);
  }

  .dataverse-toolbar__range span {
    font-size: var(--fs-sm);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--text-subtle);
  }

  .dataverse-toolbar__range input {
    max-width: 160px;
  }

  .dataverse-toolbar__submit {
    justify-self: start;
  }

  .art-toolbar__field,
  .search-form__field {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .art-toolbar__toggle {
    flex-direction: row;
    align-items: center;
  }

  .art-toolbar__toggle input {
    width: auto;
  }

  .search-form {
    display: grid;
    gap: var(--space-3);
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
  }

  .search-form__label {
    font-size: var(--fs-sm);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--text-subtle);
  }

  .search-form__submit {
    justify-self: start;
  }

  .dataverse-card {
    grid-template-columns: minmax(80px, 120px) 1fr;
    display: grid;
    align-items: start;
    gap: var(--space-4);
  }

  .dataverse-card__media {
    width: 100%;
    height: 100%;
    max-width: 120px;
    border-radius: var(--radius-md);
    padding: var(--space-3);
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--surface-2);
  }

  .dataverse-card__body {
    display: grid;
    gap: var(--space-3);
  }

  .dataverse-card__thumb {
    width: 72px;
    height: 72px;
    object-fit: contain;
  }

  .dataverse-card__meta {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .dataverse-card__dataverse {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .dataverse-card__subjects {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .dataverse-card__description {
    font-size: var(--fs-md);
    color: var(--text-subtle);
  }

  .dataverse-card__actions {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .timeline-legend {
    list-style: none;
    margin: var(--space-3) 0 0;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
    color: var(--text-subtle);
    font-size: var(--fs-sm);
  }

  .timeline-legend__item {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
  }

  .timeline-legend__swatch {
    width: 12px;
    height: 12px;
    border-radius: 999px;
    border: 1px solid rgba(0, 0, 0, 0.15);
  }

  .chart-block {
    display: grid;
    gap: var(--space-3);
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: var(--space-4);
    box-shadow: var(--shadow-sm);
  }

  .chart-block__title {
    font-size: var(--fs-xl);
  }

  .chart {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: var(--space-3);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.02);
  }

  .chart__empty {
    margin: 0;
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .infinite-scroll-sentinel {
    height: 1px;
  }

  .request-debug {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    align-items: center;
  }

  .request-debug__details {
    width: 100%;
    margin: 0;
    max-height: 240px;
    overflow: auto;
    background: var(--surface-2);
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    padding: var(--space-3);
    font-size: var(--fs-sm);
  }

  .index-controls {
    display: grid;
    gap: var(--space-3);
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
  }

  .index-override {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
    align-items: center;
  }

  .index-override .search-form__field {
    flex: 1;
    min-width: 200px;
  }

  .dataverse-intro,
  .text-muted {
    color: var(--text-subtle);
    font-size: var(--fs-md);
  }

  .empty-state {
    padding: var(--space-5);
    border-radius: var(--radius-lg);
    border: 1px dashed var(--border);
    background: var(--surface-2);
    text-align: center;
    color: var(--text-subtle);
    display: grid;
    gap: var(--space-3);
    place-items: center;
  }

  .empty-state__suggestions {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: var(--space-2);
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  @media (max-width: 900px) {
    .home-hero {
      padding: var(--space-5);
    }

    .home-hero__cta {
      flex-direction: column;
      align-items: stretch;
    }

    .home-hero__cta-primary,
    .home-hero__cta-secondary {
      width: 100%;
    }

    .home-hero__highlights {
      flex-direction: column;
      align-items: flex-start;
    }

    .home-section__header {
      flex-direction: column;
      align-items: flex-start;
    }

    .home-diag__grid {
      grid-template-columns: 1fr;
    }

    .site-header {
      flex-direction: column;
      align-items: flex-start;
    }

    .site-status {
      align-items: flex-start;
    }

    .site-nav {
      justify-content: flex-start;
    }

    .art-layout {
      grid-template-columns: 1fr;
    }

    .facets {
      position: static;
      max-height: none;
    }

    .dataverse-card {
      grid-template-columns: 1fr;
    }

    .dataverse-card__media {
      max-width: none;
      justify-content: flex-start;
    }

    .search-form,
    .art-toolbar {
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    }

    .timeline-legend {
      gap: var(--space-2);
    }
  }

  .yale-view__content {
    display: grid;
    grid-template-columns: minmax(280px, 360px) 1fr;
    gap: var(--space-5);
    align-items: start;
  }

  .yale-discovery {
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: var(--space-5);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    position: sticky;
    top: var(--space-5);
  }

  .yale-discovery__intro h2 {
    font-size: var(--fs-xl);
  }

  .yale-discovery__status {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .yale-discovery__status.is-error {
    color: var(--danger);
  }

  .yale-discovery__status.is-muted {
    color: var(--text-subtle);
    opacity: 0.9;
  }

  .yale-discovery__form {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
    align-items: flex-end;
  }

  .yale-discovery__search {
    flex: 1 1 240px;
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .yale-discovery__search span {
    font-weight: 600;
    font-size: var(--fs-sm);
    letter-spacing: 0.02em;
  }

  .yale-discovery__filters {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }

  .yale-discovery__facet {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .yale-discovery__facet-label {
    font-size: var(--fs-xs);
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--text-subtle);
  }

  .yale-discovery__chips {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .yale-discovery__chips .chip.is-active {
    background: var(--accent);
    color: #fff;
    border-color: transparent;
  }

  .yale-discovery__select {
    width: 100%;
  }

  .yale-results__header {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .yale-results__summary {
    font-weight: 600;
  }

  .yale-results__actions {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .yale-results__list {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .yale-result {
    display: grid;
    grid-template-columns: minmax(160px, 1fr) 2.2fr;
    gap: var(--space-4);
    padding: var(--space-4);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast), transform var(--transition-fast);
  }

  .yale-result:hover {
    border-color: color-mix(in srgb, var(--accent) 35%, var(--border));
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
  }

  .yale-result.is-active {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 25%, transparent);
  }

  .yale-result__preview {
    aspect-ratio: 3 / 2;
    border-radius: var(--radius-md);
    overflow: hidden;
    background: radial-gradient(circle at center, rgba(64, 158, 255, 0.18), transparent 65%);
  }

  .yale-result__preview img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .yale-result--no-thumb .yale-result__preview {
    background: linear-gradient(135deg, var(--surface-3), var(--surface-1));
  }

  .yale-result__content {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .yale-result__repository {
    font-size: var(--fs-xs);
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--text-subtle);
  }

  .yale-result__badges {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .yale-result__badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: 0.2rem 0.6rem;
    border-radius: 999px;
    background: var(--surface-2);
    border: 1px solid var(--border);
    font-size: var(--fs-xs);
    font-weight: 600;
    color: var(--text-subtle);
  }

  .yale-result__title {
    font-size: var(--fs-lg);
    margin: 0;
  }

  .yale-result__title a {
    color: inherit;
  }

  .yale-result__meta {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .yale-result__description {
    color: var(--text-subtle);
  }

  .yale-result__tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    padding: 0;
    margin: 0;
    list-style: none;
  }

  .yale-result__tags li {
    padding: 0.2rem 0.55rem;
    border-radius: 999px;
    background: var(--surface-2);
    font-size: var(--fs-xs);
    color: var(--text-subtle);
  }

  .yale-result__controls {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    margin-top: var(--space-2);
  }

  .chip.is-success {
    background: color-mix(in srgb, var(--accent) 85%, white 15%);
    color: #fff;
    border-color: transparent;
  }

  .yale-results__pager {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    justify-content: space-between;
    font-size: var(--fs-sm);
  }

  .yale-results__empty {
    padding: var(--space-4);
    border-radius: var(--radius-md);
    border: 1px dashed var(--border);
    text-align: center;
    color: var(--text-subtle);
  }

  @media (max-width: 1100px) {
    .yale-view__content {
      grid-template-columns: 1fr;
    }

    .yale-discovery {
      position: static;
    }
  }

  @media (max-width: 760px) {
    .yale-result {
      grid-template-columns: 1fr;
    }

    .yale-result__preview {
      aspect-ratio: 5 / 3;
    }

    .yale-discovery__form {
      flex-direction: column;
      align-items: stretch;
    }

    .yale-discovery__search {
      width: 100%;
    }
  }

}
