@layer components {
  button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-2);
    padding: 0.6rem 1.35rem;
    border-radius: 999px;
    border: 1px solid color-mix(in srgb, var(--accent) 45%, transparent);
    background: linear-gradient(120deg, color-mix(in srgb, var(--accent) 92%, white 8%), color-mix(in srgb, var(--accent-alt) 70%, var(--accent) 30%));
    color: #050b19;
    font-weight: 600;
    letter-spacing: 0.01em;
    cursor: pointer;
    box-shadow: 0 18px 45px rgba(5, 10, 22, 0.45);
    transition: transform var(--transition-fast), box-shadow var(--transition-base), background var(--transition-base);
  }

  button:hover:not(:disabled),
  button:focus-visible:not(:disabled) {
    transform: translateY(-2px) scale(1.01);
    box-shadow: 0 28px 55px rgba(5, 10, 22, 0.55);
  }

  button:disabled {
    cursor: not-allowed;
    opacity: 0.45;
    box-shadow: none;
    transform: none;
  }

  button.chip,
  .chip button,
  button.chip:disabled {
    background: color-mix(in srgb, var(--surface-glass) 65%, transparent);
    border: 1px solid color-mix(in srgb, var(--border) 70%, transparent);
    color: var(--text-subtle);
    font-weight: 500;
    backdrop-filter: blur(14px);
  }

  button.chip:hover {
    background: color-mix(in srgb, var(--accent) 12%, var(--surface-2));
    color: var(--text);
    box-shadow: none;
    transform: translateY(-1px);
  }

  input,
  select,
  textarea {
    width: 100%;
    padding: 0.7rem 1rem;
    border-radius: var(--radius-md);
    border: 1px solid color-mix(in srgb, var(--border) 80%, transparent);
    background: color-mix(in srgb, var(--surface-glass) 80%, transparent);
    color: var(--text);
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
    backdrop-filter: blur(18px);
    box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.08);
  }

  input::placeholder,
  textarea::placeholder {
    color: color-mix(in srgb, var(--text-subtle) 75%, transparent);
  }

  input:focus-visible,
  select:focus-visible,
  textarea:focus-visible {
    border-color: color-mix(in srgb, var(--accent) 65%, white 5%);
    box-shadow:
      0 0 0 2px color-mix(in srgb, var(--accent) 25%, transparent),
      0 20px 35px rgba(5, 10, 22, 0.35);
  }

  label {
    display: inline-flex;
    gap: var(--space-2);
    font-size: var(--fs-md);
    color: var(--text-subtle);
  }

  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
  }

  .site-header {
    position: relative;
    display: grid;
    grid-template-columns: minmax(0, 1.1fr) minmax(260px, 0.9fr);
    gap: clamp(var(--space-3), 2vw, var(--space-5));
    padding: clamp(1.75rem, 4vw, 2.75rem);
    border-radius: var(--radius-lg);
    border: 1px solid color-mix(in srgb, var(--border-strong) 75%, transparent);
    background:
      radial-gradient(circle at 15% -30%, rgba(123, 231, 255, 0.4), transparent 60%),
      radial-gradient(circle at 85% 0%, rgba(180, 152, 255, 0.32), transparent 65%),
      color-mix(in srgb, var(--surface) 75%, var(--surface-2) 25%);
    box-shadow: var(--panel-shadow);
    overflow: hidden;
  }

  .site-header::after {
    content: '';
    position: absolute;
    inset: 1.25rem;
    border-radius: inherit;
    border: 1px solid color-mix(in srgb, var(--border) 60%, transparent);
    pointer-events: none;
    opacity: 0.4;
  }

  .site-header__copy {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
    position: relative;
    z-index: 1;
  }

  .site-title {
    font-size: clamp(2rem, 2vw + 1.75rem, 3rem);
    letter-spacing: -0.01em;
  }

  .site-subtitle {
    margin: 0;
    color: var(--text-subtle);
    font-size: var(--fs-lg);
    max-width: 36ch;
  }

  .site-status {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: var(--space-2);
  }

  .site-header__controls {
    position: relative;
    z-index: 1;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: var(--space-4);
  }

  .site-header__search {
    display: flex;
    gap: var(--space-2);
    align-items: stretch;
    border-radius: 999px;
    padding: 0.35rem 0.35rem 0.35rem 1.1rem;
    background: color-mix(in srgb, var(--surface-glass) 80%, transparent);
    border: 1px solid color-mix(in srgb, var(--border) 60%, transparent);
    backdrop-filter: blur(18px);
    box-shadow: var(--shadow-sm);
  }

  .site-header__search input {
    border: none;
    background: transparent;
    min-width: 220px;
    padding-inline: 0;
    font-size: var(--fs-lg);
  }

  .site-header__search input:focus-visible {
    outline: none;
    box-shadow: none;
  }

  .site-header__search button {
    border-radius: 999px;
    border: none;
    padding-inline: 1.65rem;
  }

  @media (max-width: 900px) {
    .site-header {
      grid-template-columns: 1fr;
    }

    .site-status,
    .site-header__controls {
      align-items: flex-start;
      width: 100%;
    }

    .site-header__search {
      width: 100%;
      flex-direction: column;
      border-radius: var(--radius-lg);
      padding: var(--space-2);
    }

    .site-header__search button,
    .site-header__search input {
      width: 100%;
    }
  }

  body.home-minimal .site-header {
    display: none;
  }

  body.home-minimal .site-nav {
    justify-content: center;
  }

  .site-status__label {
    font-size: var(--fs-xs);
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: var(--text-subtle);
  }

  .status-pill {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.35rem 1.1rem;
    border-radius: 999px;
    font-size: var(--fs-sm);
    font-weight: 600;
    border: 1px solid transparent;
    background: color-mix(in srgb, var(--surface-glass) 80%, transparent);
    color: var(--accent);
    transition: background var(--transition-fast), border-color var(--transition-fast), color var(--transition-fast);
    backdrop-filter: blur(12px);
    box-shadow: inset 0 0 12px rgba(123, 231, 255, 0.08);
  }

  .status-pill[data-status='ok'] {
    background: rgba(126, 249, 192, 0.15);
    border-color: rgba(126, 249, 192, 0.5);
    color: var(--ok);
  }

  .status-pill[data-status='loading'] {
    background: rgba(123, 231, 255, 0.18);
    border-color: rgba(123, 231, 255, 0.4);
    color: var(--accent);
  }

  .status-pill[data-status='error'] {
    background: rgba(255, 126, 140, 0.16);
    border-color: rgba(255, 126, 140, 0.45);
    color: var(--danger);
  }

  .site-nav {
    display: flex;
    flex-wrap: nowrap;
    gap: var(--space-2);
    padding: var(--space-2);
    border-radius: var(--radius-lg);
    border: 1px solid color-mix(in srgb, var(--border) 65%, transparent);
    background: color-mix(in srgb, var(--surface-glass) 85%, transparent);
    box-shadow: var(--shadow-sm);
    overflow-x: auto;
    scroll-snap-type: x mandatory;
  }

  .site-nav__link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--space-1);
    padding: 0.45rem 1.15rem;
    border-radius: 999px;
    font-size: var(--fs-md);
    font-weight: 600;
    color: var(--text-subtle);
    border: 1px solid transparent;
    transition: color var(--transition-fast), background var(--transition-fast), border-color var(--transition-fast),
      transform var(--transition-fast);
    scroll-snap-align: center;
    backdrop-filter: blur(10px);
  }

  .site-nav__link:hover,
  .site-nav__link:focus-visible {
    color: var(--accent);
    background: color-mix(in srgb, var(--accent) 12%, transparent);
    border-color: rgba(123, 231, 255, 0.35);
    text-decoration: none;
    transform: translateY(-1px);
  }

  .site-nav__link--current {
    background: linear-gradient(120deg, color-mix(in srgb, var(--accent) 90%, white 10%), color-mix(in srgb, var(--accent-alt) 65%, var(--accent) 35%));
    color: #050b19;
    border-color: transparent;
    box-shadow: 0 15px 30px rgba(5, 10, 22, 0.4);
  }

  .page__status {
    color: var(--text-subtle);
    font-size: var(--fs-md);
  }

  .page__intro {
    font-size: var(--fs-md);
    color: var(--text-subtle);
    max-width: 60ch;
  }

  .page__search,
  .page__results,
  .page__pager,
  .page__status + .page__search {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .home-section {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .home-section__header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: var(--space-4);
    flex-wrap: wrap;
  }

  .home-section__intro {
    color: var(--text-subtle);
    max-width: 60ch;
    font-size: var(--fs-md);
  }

  .home-section--search {
    border: 1px solid color-mix(in srgb, var(--border-strong) 60%, transparent);
    border-radius: var(--radius-lg);
    background:
      radial-gradient(circle at top, rgba(123, 231, 255, 0.1), transparent 60%),
      color-mix(in srgb, var(--surface) 85%, var(--surface-2) 15%);
    box-shadow: var(--panel-shadow);
    padding: clamp(2.5rem, 5vw, 3.75rem);
    gap: var(--space-5);
  }

  .home-search {
    width: 100%;
  }

  .home-search--landing {
    min-height: calc(100vh - 10rem);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: var(--space-6);
    padding-block: clamp(3rem, 12vh, 9rem);
  }

  .home-search__hero {
    width: min(720px, 100%);
    margin-inline: auto;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: var(--space-4);
  }

  .home-search-form--hero {
    width: 100%;
  }

  .home-search-form {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .home-search__header {
    display: grid;
    gap: var(--space-2);
  }

  .home-search__surface {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    border-radius: 999px;
    border: 1px solid color-mix(in srgb, var(--border) 75%, transparent);
    padding: 0.65rem 0.85rem 0.65rem 1.75rem;
    box-shadow: 0 35px 80px rgba(4, 6, 18, 0.65);
    background: color-mix(in srgb, var(--surface-glass) 85%, transparent);
    width: 100%;
    max-width: 720px;
    backdrop-filter: blur(18px);
  }

  .home-search__surface:focus-within {
    border-color: color-mix(in srgb, var(--accent) 55%, transparent);
    box-shadow:
      0 0 0 2px color-mix(in srgb, var(--accent) 30%, transparent),
      0 45px 90px rgba(4, 6, 18, 0.75);
  }

  .home-search__controls {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-3);
  }

  .home-search__field {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .home-search__label {
    font-size: var(--fs-sm);
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: var(--text-subtle);
  }

  .home-search__input,
  .home-search__input:focus-visible {
    border-radius: var(--radius-md);
    border: 1px solid color-mix(in srgb, var(--border) 80%, transparent);
    padding: 0.85rem 1rem;
    font-size: var(--fs-md);
    width: 100%;
    background: color-mix(in srgb, var(--surface-glass) 80%, transparent);
  }

  .home-search__input--main,
  .home-search__input--main:focus-visible {
    border: none;
    box-shadow: none;
    background: transparent;
    font-size: clamp(1.6rem, 2.3vw, 2.2rem);
    padding: 0.35rem 0;
    color: var(--text);
  }

  .home-search__checkbox {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    font-weight: 600;
  }

  .home-search__checkbox input {
    width: 1.1rem;
    height: 1.1rem;
  }

  .home-search__layout {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .home-search__layout-options {
    display: inline-flex;
    gap: var(--space-2);
  }

  .home-search__layout-option {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
    border: 1px solid color-mix(in srgb, var(--border) 70%, transparent);
    border-radius: 999px;
    padding: 0.35rem 1rem;
    cursor: pointer;
    backdrop-filter: blur(10px);
  }

  .home-search__layout-option input {
    margin: 0;
  }

  .home-search__actions {
    display: flex;
    gap: var(--space-3);
    flex-wrap: wrap;
    align-items: center;
  }

  .home-search__actions--filters {
    justify-content: flex-end;
  }

  .home-search__submit {
    border-radius: 999px;
    border: none;
    background: linear-gradient(120deg, color-mix(in srgb, var(--accent) 88%, white 12%), color-mix(in srgb, var(--accent-alt) 65%, var(--accent) 35%));
    color: #050b19;
    font-weight: 600;
    padding: 0.7rem 2rem;
    box-shadow: 0 25px 55px rgba(4, 6, 18, 0.55);
    cursor: pointer;
    font-size: var(--fs-md);
    white-space: nowrap;
  }

  .home-search__reset {
    border-radius: var(--radius-md);
    border: 1px solid color-mix(in srgb, var(--border) 70%, transparent);
    background: transparent;
    font-weight: 600;
    padding: 0.7rem 1.25rem;
    cursor: pointer;
    color: var(--text-subtle);
  }

  .home-search__filters {
    border: 1px solid color-mix(in srgb, var(--border) 65%, transparent);
    border-radius: var(--radius-lg);
    background: color-mix(in srgb, var(--surface) 65%, var(--surface-2) 35%);
    padding: var(--space-4);
    box-shadow: var(--shadow-sm);
  }

  .home-search__filters[open] {
    box-shadow: var(--shadow-md);
  }

  .home-search__filters-summary {
    cursor: pointer;
    font-weight: 600;
    display: flex;
    flex-direction: column;
    gap: var(--space-1);
    font-size: var(--fs-lg);
    color: var(--text);
  }

  .home-search__filters-hint {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
    text-transform: none;
    letter-spacing: normal;
  }

  .home-search__filters-body {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    margin-top: var(--space-3);
  }

  .home-search__filters-subtitle {
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 0.18em;
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .home-search__sources {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: var(--space-3);
  }

  .home-search__source {
    border: 1px solid color-mix(in srgb, var(--border) 70%, transparent);
    border-radius: var(--radius-md);
    padding: var(--space-3);
    display: grid;
    gap: var(--space-1);
    font-size: var(--fs-sm);
    cursor: pointer;
    background: color-mix(in srgb, var(--surface-glass) 60%, transparent);
    backdrop-filter: blur(16px);
  }

  .home-search__source input {
    margin-bottom: var(--space-1);
  }

  .home-search__source-name {
    font-weight: 600;
    font-size: var(--fs-md);
  }

  .home-search__source-meta {
    font-size: var(--fs-sm);
    text-transform: uppercase;
    letter-spacing: 0.2em;
    color: var(--text-subtle);
  }

  .home-search__source-description {
    color: var(--text-subtle);
  }

  .home-search__idle {
    font-size: var(--fs-md);
    color: var(--text-subtle);
    margin: 0;
  }

  .home-results {
    width: min(1100px, 100%);
    margin-inline: auto;
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .home-results__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-3);
  }

  .home-results__title {
    margin: 0;
    font-size: clamp(1.25rem, 1vw + 1rem, 1.75rem);
    font-weight: 600;
  }

  .home-filter-toggle {
    border-radius: 999px;
    border: 1px solid color-mix(in srgb, var(--border) 70%, transparent);
    background: color-mix(in srgb, var(--surface-glass) 80%, transparent);
    color: var(--text);
    width: 3rem;
    height: 3rem;
    box-shadow: var(--shadow-sm);
    padding: 0;
  }

  .home-filter-toggle:disabled {
    opacity: 0;
    pointer-events: none;
  }

  .home-filter-toggle__icon {
    font-size: 1.35rem;
    line-height: 1;
  }

  .home-filter-panel__overlay {
    position: fixed;
    inset: 0;
    background: rgba(3, 5, 15, 0.82);
    backdrop-filter: blur(10px);
    z-index: 80;
  }

  .home-filter-panel {
    position: fixed;
    top: 0;
    right: 0;
    width: min(420px, 90vw);
    height: 100vh;
    background: color-mix(in srgb, var(--surface) 70%, var(--surface-2) 30%);
    border-left: 1px solid color-mix(in srgb, var(--border) 75%, transparent);
    box-shadow: var(--shadow-lg);
    display: flex;
    flex-direction: column;
    z-index: 90;
    transform: translateX(100%);
    transition: transform var(--transition-base);
  }

  .home-filter-panel[data-open='true'] {
    transform: translateX(0);
  }

  .home-filter-panel__header {
    padding: var(--space-4);
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-3);
    border-bottom: 1px solid color-mix(in srgb, var(--border) 70%, transparent);
  }

  .home-filter-panel__header h2 {
    margin: 0;
    font-size: var(--fs-xl);
  }

  .home-filter-panel__close {
    border-radius: 999px;
    border: 1px solid color-mix(in srgb, var(--border) 70%, transparent);
    background: color-mix(in srgb, var(--surface-glass) 75%, transparent);
    color: var(--text);
    width: 2.75rem;
    height: 2.75rem;
    font-size: 1.35rem;
    line-height: 1;
    padding: 0;
  }

  .home-filter-panel__body {
    flex: 1;
    overflow-y: auto;
    padding: var(--space-4);
  }

  .home-filter-panel .home-search__filters-body {
    margin-top: 0;
  }

  @media (max-width: 640px) {
    .home-search__surface {
      flex-direction: column;
      border-radius: var(--radius-lg);
      padding: var(--space-3);
    }

    .home-search__submit {
      width: 100%;
    }

    .home-filter-panel {
      width: 100%;
    }
  }

  .home-source-grid {
    display: grid;
    gap: var(--space-4);
  }

  .home-source {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .home-source__card {
    border-radius: var(--radius-lg);
    border: 1px solid color-mix(in srgb, var(--border) 70%, transparent);
    background: color-mix(in srgb, var(--surface) 80%, var(--surface-2) 20%);
    box-shadow: var(--shadow-sm);
    padding: var(--space-4);
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    text-align: left;
    cursor: pointer;
    font: inherit;
    color: inherit;
    transition: border-color 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
  }

  .home-source__card:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
  }

  .home-source--expanded .home-source__card {
    border-color: color-mix(in srgb, var(--accent) 60%, transparent);
    box-shadow: var(--shadow-md);
    background: color-mix(in srgb, var(--surface) 70%, var(--surface-2) 30%);
  }

  .home-source__card-head {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-3);
  }

  .home-source__header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: var(--space-3);
    flex-wrap: wrap;
    flex: 1;
  }

  .home-source__title h3 {
    margin: 0;
  }

  .home-source__count {
    font-weight: 600;
    color: var(--accent);
    white-space: nowrap;
  }

  .home-source__chevron {
    font-size: 1.25rem;
    color: var(--text-subtle);
    transition: transform 0.2s ease;
  }

  .home-source--expanded .home-source__chevron {
    transform: rotate(90deg);
  }

  .home-source__description {
    margin: 0;
    color: var(--text-subtle);
  }

  .home-source__status {
    margin: 0;
    font-weight: 600;
  }

  .home-source__body {
    border: 1px dashed color-mix(in srgb, var(--border) 70%, transparent);
    border-radius: var(--radius-md);
    padding: var(--space-3);
    background: color-mix(in srgb, var(--surface) 85%, var(--surface-2) 15%);
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }

  .home-source__body[hidden] {
    display: none;
  }

  .home-source__error {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .home-hero {
    border-radius: var(--radius-lg);
    border: 1px solid color-mix(in srgb, var(--border-strong) 65%, transparent);
    background:
      radial-gradient(circle at top, rgba(123, 231, 255, 0.2), transparent 55%),
      radial-gradient(circle at bottom, rgba(180, 152, 255, 0.2), transparent 65%),
      color-mix(in srgb, var(--surface) 80%, var(--surface-2) 20%);
    box-shadow: var(--shadow-lg);
    padding: clamp(3rem, 5vw, 4.5rem);
  }

  .home-hero--minimal {
    text-align: center;
    display: grid;
    gap: var(--space-2);
  }

  .home-hero--minimal h1 {
    font-size: clamp(2.5rem, 2vw + 2rem, 3.5rem);
    margin: 0;
  }

  .home-hero--minimal p {
    margin: 0;
    font-size: var(--fs-lg);
    color: var(--text-subtle);
  }

  .home-hero__hint {
    font-size: var(--fs-sm);
    text-transform: uppercase;
    letter-spacing: 0.24em;
    color: var(--accent-alt);
  }

  .page__results > .grid.cards {
    margin-top: var(--space-3);
  }

  .alert {
    padding: var(--space-3);
    border-radius: var(--radius-md);
    border: 1px solid color-mix(in srgb, var(--border) 70%, transparent);
    background: color-mix(in srgb, var(--surface) 70%, var(--surface-2) 30%);
    color: var(--text);
    box-shadow: var(--shadow-sm);
  }

  .alert--error {
    border-color: color-mix(in srgb, var(--danger) 45%, var(--border));
    background: color-mix(in srgb, var(--danger) 18%, var(--surface));
  }

  .alert--info {
    border-color: color-mix(in srgb, var(--accent) 45%, var(--border));
    background: color-mix(in srgb, var(--accent) 12%, var(--surface));
  }

  .alert__details {
    margin-top: var(--space-3);
    font-size: var(--fs-sm);
    color: var(--text-subtle);
    display: grid;
    gap: var(--space-2);
  }

  .card {
    background: color-mix(in srgb, var(--surface) 70%, var(--surface-2) 30%);
    border: 1px solid color-mix(in srgb, var(--border) 70%, transparent);
    border-radius: var(--radius-md);
    padding: var(--space-4);
    box-shadow: var(--shadow-md);
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast), border-color var(--transition-fast);
    backdrop-filter: blur(12px);
  }

  .cards.cards--list .card {
    flex-direction: row;
    align-items: stretch;
  }

  .card:hover {
    transform: translateY(-4px);
    box-shadow: var(--shadow-lg);
    border-color: color-mix(in srgb, var(--accent) 35%, var(--border));
  }

  .card h3,
  .card h2 {
    margin-top: 0;
    font-size: var(--fs-xl);
    color: var(--text);
  }

  .card__title a {
    color: inherit;
  }

  .card__body {
    display: grid;
    gap: var(--space-3);
  }

  .card__media {
    position: relative;
    overflow: hidden;
    border-radius: var(--radius-sm);
    background: var(--surface-2);
    border: 1px dashed color-mix(in srgb, var(--border) 70%, transparent);
    min-height: 180px;
  }

  .card__media img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .cards.cards--list .card__media {
    flex: 0 0 220px;
  }

  .card__subtitle {
    font-size: var(--fs-md);
    color: var(--text-subtle);
  }

  .card__meta,
  .card__meta-block {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .card__meta-block {
    display: grid;
    gap: var(--space-2);
  }

  .result-card__image {
    opacity: 0;
    transition: opacity 180ms ease;
  }

  .result-card__image--loaded {
    opacity: 1;
  }

  .result-card__footer {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .result-card__header {
    display: flex;
    align-items: center;
    gap: var(--space-3);
  }

  .result-card__icon {
    width: 40px;
    height: 40px;
    object-fit: contain;
    filter: drop-shadow(0 2px 6px rgba(0, 0, 0, 0.35));
  }

  .result-card__heading {
    display: grid;
    gap: var(--space-2);
  }

  .result-card__meta {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .result-card__abstract {
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    background: var(--surface-2);
    padding: var(--space-2) var(--space-3);
  }

  .result-card__abstract summary {
    cursor: pointer;
    font-weight: 600;
    color: var(--accent);
    margin-bottom: var(--space-2);
  }

  .result-card__summary {
    margin: 0;
    font-size: var(--fs-md);
    color: var(--text-subtle);
  }

  .result-card__actions {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .result-list__empty {
    margin: 0;
    padding: var(--space-4);
    text-align: center;
    color: var(--text-subtle);
    border: 1px dashed var(--border);
    border-radius: var(--radius-md);
    background: var(--surface-2);
  }

  .load-more {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
    padding: 0.5rem 1.4rem;
    border-radius: var(--radius-sm);
    border: 1px solid color-mix(in srgb, var(--accent) 45%, transparent);
    background: color-mix(in srgb, var(--accent) 16%, var(--surface));
    color: var(--accent);
    font-weight: 600;
  }

  .load-more:hover,
  .load-more:focus-visible {
    background: color-mix(in srgb, var(--accent) 22%, var(--surface));
    text-decoration: none;
  }

  .result-card__action {
    font-size: var(--fs-sm);
    padding: 0.35rem 0.65rem;
    border-radius: var(--radius-sm);
    background: var(--surface-2);
    border: 1px solid var(--border);
    transition: background var(--transition-fast), border-color var(--transition-fast);
  }

  .result-card__action:hover,
  .result-card__action:focus-visible {
    background: var(--surface-3);
    border-color: color-mix(in srgb, var(--accent) 40%, var(--border));
    text-decoration: none;
  }

  .img-ph {
    position: absolute;
    inset: 0;
    display: grid;
    place-items: center;
    color: var(--text-subtle);
    font-size: var(--fs-sm);
    padding: var(--space-3);
  }

  .rights-badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: 0.2rem 0.6rem;
    border-radius: 999px;
    font-size: var(--fs-xs);
    font-weight: 600;
    background: var(--surface-2);
    border: 1px solid var(--border);
  }

  .chip {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.2rem 0.6rem;
    border-radius: 999px;
    background: var(--surface-2);
    border: 1px solid var(--border);
    color: var(--text-subtle);
    font-size: var(--fs-sm);
    font-weight: 500;
    line-height: 1.3;
  }

  .chip--kind {
    background: color-mix(in srgb, var(--accent) 16%, var(--surface));
    border-color: color-mix(in srgb, var(--accent) 45%, var(--border));
    color: var(--accent);
  }

  .chip--filetype {
    background: color-mix(in srgb, var(--warn) 14%, var(--surface));
    border-color: color-mix(in srgb, var(--warn) 45%, var(--border));
    color: var(--warn);
  }

  .chip--accent {
    background: color-mix(in srgb, var(--accent) 20%, var(--surface));
    border-color: color-mix(in srgb, var(--accent) 45%, var(--border));
    color: var(--accent);
  }

  .chip--muted {
    background: var(--surface-2);
    border-color: var(--border);
    color: var(--text-subtle);
  }

  .chip--author {
    background: color-mix(in srgb, var(--accent-alt) 16%, var(--surface));
    border-color: color-mix(in srgb, var(--accent-alt) 45%, var(--border));
    color: var(--accent-alt);
  }

  .chip--date {
    background: color-mix(in srgb, var(--info) 16%, var(--surface));
    border-color: color-mix(in srgb, var(--info) 45%, var(--border));
    color: var(--info);
  }

  .chip--subject {
    background: var(--surface-2);
    border-style: dashed;
  }

  .grid.cards .card {
    height: 100%;
  }

  .art-layout {
    display: grid;
    gap: var(--space-4);
    grid-template-columns: minmax(260px, 280px) 1fr;
  }

  .art-layout__facets {
    display: grid;
    gap: var(--space-3);
  }

  .art-layout__results {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .facets {
    display: grid;
    gap: var(--space-3);
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
    position: sticky;
    top: var(--space-4);
    max-height: calc(100vh - 2 * var(--space-4));
    overflow: auto;
  }

  .facet {
    display: grid;
    gap: var(--space-2);
  }

  .facet + .facet {
    padding-top: var(--space-3);
    border-top: 1px solid var(--border);
  }

  .facet__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-2);
  }

  .facet__header h3 {
    font-size: var(--fs-lg);
  }

  .facet__list {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: var(--space-2);
  }

  .facet-option {
    display: grid;
    grid-template-columns: auto 1fr auto;
    align-items: center;
    gap: var(--space-2);
    padding: 0.35rem 0.5rem;
    border-radius: var(--radius-sm);
    background: transparent;
    border: 1px solid transparent;
    cursor: pointer;
    transition: background var(--transition-fast), border-color var(--transition-fast);
  }

  .facet-option input {
    width: auto;
  }

  .facet-option:hover,
  .facet-option:has(input:focus-visible) {
    background: var(--surface-2);
    border-color: var(--border);
  }

  .facet-option__label {
    font-size: var(--fs-md);
  }

  .facet-option__count {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .facet__clear,
  .facet__more {
    align-self: start;
    font-size: var(--fs-sm);
    padding: 0.35rem 0.75rem;
    background: transparent;
    color: var(--accent);
    border-color: color-mix(in srgb, var(--accent) 45%, transparent);
  }

  .facet__clear[disabled] {
    opacity: 0.4;
    pointer-events: none;
  }

  .art-toolbar {
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
    display: grid;
    gap: var(--space-3);
  }

  .art-toolbar__host {
    display: grid;
    gap: var(--space-3);
  }

  .facet-bar {
    display: grid;
    gap: var(--space-3);
    padding: var(--space-3);
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
  }

  .facet-bar__field {
    display: grid;
    gap: var(--space-2);
  }

  .facet-bar__label {
    font-size: var(--fs-sm);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--text-subtle);
  }

  .facet-bar__slider {
    display: flex;
    align-items: center;
    gap: var(--space-3);
  }

  .facet-bar__slider input[type='range'] {
    flex: 1;
  }

  .facet-bar__value {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .facet-bar__clear {
    justify-self: start;
    background: transparent;
    border: 1px solid color-mix(in srgb, var(--accent) 35%, var(--border));
    color: var(--accent);
  }

  .art-pagination__host {
    display: flex;
    justify-content: center;
  }

  .art-pagination {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    padding: var(--space-2) var(--space-3);
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
  }

  .art-pagination button {
    padding: 0.35rem 0.8rem;
    background: transparent;
    border: 1px solid color-mix(in srgb, var(--accent) 35%, var(--border));
    color: var(--accent);
    border-radius: var(--radius-sm);
  }

  .art-pagination button:disabled {
    opacity: 0.4;
    cursor: not-allowed;
  }

  .art-pagination__indicator {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .dataverse-toolbar {
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    align-items: start;
  }

  .dataverse-toolbar__fieldset {
    border: 1px solid var(--border);
    border-radius: var(--radius-md);
    padding: var(--space-3);
    display: grid;
    gap: var(--space-2);
    background: var(--surface-2);
  }

  .dataverse-toolbar__fieldset legend {
    font-size: var(--fs-sm);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--text-subtle);
    padding: 0 var(--space-1);
  }

  .dataverse-toolbar__checkbox {
    display: flex;
    align-items: center;
    gap: var(--space-2);
    font-size: var(--fs-md);
    color: var(--text);
  }

  .dataverse-toolbar__checkbox input {
    width: auto;
  }

  .dataverse-toolbar__range {
    display: grid;
    gap: var(--space-2);
  }

  .dataverse-toolbar__range span {
    font-size: var(--fs-sm);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--text-subtle);
  }

  .dataverse-toolbar__range input {
    max-width: 160px;
  }

  .dataverse-toolbar__submit {
    justify-self: start;
  }

  .art-toolbar__field,
  .search-form__field {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .art-toolbar__toggle {
    flex-direction: row;
    align-items: center;
  }

  .art-toolbar__toggle input {
    width: auto;
  }

  .search-form {
    display: grid;
    gap: var(--space-3);
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
  }

  .search-form__label {
    font-size: var(--fs-sm);
    text-transform: uppercase;
    letter-spacing: 0.12em;
    color: var(--text-subtle);
  }

  .search-form__submit {
    justify-self: start;
  }

  .dataverse-card {
    grid-template-columns: minmax(80px, 120px) 1fr;
    display: grid;
    align-items: start;
    gap: var(--space-4);
  }

  .dataverse-card__media {
    width: 100%;
    height: 100%;
    max-width: 120px;
    border-radius: var(--radius-md);
    padding: var(--space-3);
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--surface-2);
  }

  .dataverse-card__body {
    display: grid;
    gap: var(--space-3);
  }

  .dataverse-card__thumb {
    width: 72px;
    height: 72px;
    object-fit: contain;
  }

  .dataverse-card__meta {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .dataverse-card__dataverse {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .dataverse-card__subjects {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .dataverse-card__description {
    font-size: var(--fs-md);
    color: var(--text-subtle);
  }

  .dataverse-card__actions {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .timeline-legend {
    list-style: none;
    margin: var(--space-3) 0 0;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
    color: var(--text-subtle);
    font-size: var(--fs-sm);
  }

  .timeline-legend__item {
    display: inline-flex;
    align-items: center;
    gap: var(--space-2);
  }

  .timeline-legend__swatch {
    width: 12px;
    height: 12px;
    border-radius: 999px;
    border: 1px solid rgba(0, 0, 0, 0.15);
  }

  .chart-block {
    display: grid;
    gap: var(--space-3);
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: var(--space-4);
    box-shadow: var(--shadow-sm);
  }

  .chart-block__title {
    font-size: var(--fs-xl);
  }

  .chart {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: var(--space-3);
    box-shadow: inset 0 0 0 1px rgba(255, 255, 255, 0.02);
  }

  .chart__empty {
    margin: 0;
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .infinite-scroll-sentinel {
    height: 1px;
  }

  .request-debug {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    align-items: center;
  }

  .request-debug__details {
    width: 100%;
    margin: 0;
    max-height: 240px;
    overflow: auto;
    background: var(--surface-2);
    border-radius: var(--radius-md);
    border: 1px solid var(--border);
    padding: var(--space-3);
    font-size: var(--fs-sm);
  }

  .index-controls {
    display: grid;
    gap: var(--space-3);
    padding: var(--space-4);
    border-radius: var(--radius-lg);
    border: 1px solid var(--border);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
  }

  .index-override {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
    align-items: center;
  }

  .index-override .search-form__field {
    flex: 1;
    min-width: 200px;
  }

  .dataverse-intro,
  .text-muted {
    color: var(--text-subtle);
    font-size: var(--fs-md);
  }

  .empty-state {
    padding: var(--space-5);
    border-radius: var(--radius-lg);
    border: 1px dashed var(--border);
    background: var(--surface-2);
    text-align: center;
    color: var(--text-subtle);
    display: grid;
    gap: var(--space-3);
    place-items: center;
  }

  .empty-state__suggestions {
    list-style: none;
    margin: 0;
    padding: 0;
    display: grid;
    gap: var(--space-2);
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  @media (max-width: 900px) {
    .home-hero {
      padding: var(--space-4);
    }

    .home-search__surface {
      flex-direction: column;
    }

    .home-search__submit {
      width: 100%;
    }

    .home-section__header {
      flex-direction: column;
      align-items: flex-start;
    }

    .site-header {
      flex-direction: column;
      align-items: flex-start;
    }

    .site-status {
      align-items: flex-start;
    }

    .site-nav {
      justify-content: flex-start;
    }

    .art-layout {
      grid-template-columns: 1fr;
    }

    .facets {
      position: static;
      max-height: none;
    }

    .dataverse-card {
      grid-template-columns: 1fr;
    }

    .dataverse-card__media {
      max-width: none;
      justify-content: flex-start;
    }

    .search-form,
    .art-toolbar {
      grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
    }

    .timeline-legend {
      gap: var(--space-2);
    }
  }

  .yale-view__content {
    display: grid;
    grid-template-columns: minmax(280px, 360px) 1fr;
    gap: var(--space-5);
    align-items: start;
  }

  .yale-discovery {
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    padding: var(--space-5);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
    position: sticky;
    top: var(--space-5);
  }

  .yale-discovery__intro h2 {
    font-size: var(--fs-xl);
  }

  .yale-discovery__status {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .yale-discovery__status.is-error {
    color: var(--danger);
  }

  .yale-discovery__status.is-muted {
    color: var(--text-subtle);
    opacity: 0.9;
  }

  .yale-discovery__form {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-3);
    align-items: flex-end;
  }

  .yale-discovery__search {
    flex: 1 1 240px;
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .yale-discovery__search span {
    font-weight: 600;
    font-size: var(--fs-sm);
    letter-spacing: 0.02em;
  }

  .yale-discovery__filters {
    display: flex;
    flex-direction: column;
    gap: var(--space-3);
  }

  .yale-discovery__facet {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .yale-discovery__facet-label {
    font-size: var(--fs-xs);
    letter-spacing: 0.08em;
    text-transform: uppercase;
    color: var(--text-subtle);
  }

  .yale-discovery__chips {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .yale-discovery__chips .chip.is-active {
    background: var(--accent);
    color: #fff;
    border-color: transparent;
  }

  .yale-discovery__select {
    width: 100%;
  }

  .yale-results__header {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .yale-results__summary {
    font-weight: 600;
  }

  .yale-results__actions {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .yale-results__list {
    display: flex;
    flex-direction: column;
    gap: var(--space-4);
  }

  .yale-result {
    display: grid;
    grid-template-columns: minmax(160px, 1fr) 2.2fr;
    gap: var(--space-4);
    padding: var(--space-4);
    border: 1px solid var(--border);
    border-radius: var(--radius-lg);
    background: var(--surface);
    box-shadow: var(--shadow-sm);
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast), transform var(--transition-fast);
  }

  .yale-result:hover {
    border-color: color-mix(in srgb, var(--accent) 35%, var(--border));
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
  }

  .yale-result.is-active {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--accent) 25%, transparent);
  }

  .yale-result__preview {
    aspect-ratio: 3 / 2;
    border-radius: var(--radius-md);
    overflow: hidden;
    background: radial-gradient(circle at center, rgba(64, 158, 255, 0.18), transparent 65%);
  }

  .yale-result__preview img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .yale-result--no-thumb .yale-result__preview {
    background: linear-gradient(135deg, var(--surface-3), var(--surface-1));
  }

  .yale-result__content {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }

  .yale-result__repository {
    font-size: var(--fs-xs);
    letter-spacing: 0.1em;
    text-transform: uppercase;
    color: var(--text-subtle);
  }

  .yale-result__badges {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
  }

  .yale-result__badge {
    display: inline-flex;
    align-items: center;
    gap: var(--space-1);
    padding: 0.2rem 0.6rem;
    border-radius: 999px;
    background: var(--surface-2);
    border: 1px solid var(--border);
    font-size: var(--fs-xs);
    font-weight: 600;
    color: var(--text-subtle);
  }

  .yale-result__title {
    font-size: var(--fs-lg);
    margin: 0;
  }

  .yale-result__title a {
    color: inherit;
  }

  .yale-result__meta {
    font-size: var(--fs-sm);
    color: var(--text-subtle);
  }

  .yale-result__description {
    color: var(--text-subtle);
  }

  .yale-result__tags {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    padding: 0;
    margin: 0;
    list-style: none;
  }

  .yale-result__tags li {
    padding: 0.2rem 0.55rem;
    border-radius: 999px;
    background: var(--surface-2);
    font-size: var(--fs-xs);
    color: var(--text-subtle);
  }

  .yale-result__controls {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-2);
    margin-top: var(--space-2);
  }

  .chip.is-success {
    background: color-mix(in srgb, var(--accent) 85%, white 15%);
    color: #fff;
    border-color: transparent;
  }

  .yale-results__pager {
    display: flex;
    align-items: center;
    gap: var(--space-3);
    justify-content: space-between;
    font-size: var(--fs-sm);
  }

  .yale-results__empty {
    padding: var(--space-4);
    border-radius: var(--radius-md);
    border: 1px dashed var(--border);
    text-align: center;
    color: var(--text-subtle);
  }

  @media (max-width: 1100px) {
    .yale-view__content {
      grid-template-columns: 1fr;
    }

    .yale-discovery {
      position: static;
    }
  }

  @media (max-width: 760px) {
    .yale-result {
      grid-template-columns: 1fr;
    }

    .yale-result__preview {
      aspect-ratio: 5 / 3;
    }

    .yale-discovery__form {
      flex-direction: column;
      align-items: stretch;
    }

    .yale-discovery__search {
      width: 100%;
    }
  }

}
